<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº¤äº’å¼ç¯®çƒ24ç§’è§„åˆ™è®²è§£ - æ·±åº¦æ€è€ƒç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #3b82f6; /* Blue */
            --secondary-color: #6366f1; /* Indigo */
            --accent-color: #34d399; /* Emerald */
            --text-dark: #1f2937;
            --text-medium: #4b5563;
            --text-light: #6b7280;
            --bg-light: #f0f9ff;
            --bg-white: white;
            --border-light: #e5e7eb;
            --border-medium: #cbd5e1;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-light);
            color: var(--text-medium);
        }
        .content-card {
            background-color: var(--bg-white);
            border-radius: 16px;
            padding: 28px;
            margin-bottom: 24px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInSlideUp 0.6s ease-out forwards;
        }
        .content-card:hover {
            transform: translateY(-6px) scale(1.01); /* è½»å¾®æ”¾å¤§ */
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
        }
        @keyframes fadeInSlideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .question-title {
            font-size: 1.6rem;
            font-weight: 700;
            color: #0c4a6e; /* æ·±è“ */
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }
        .question-title svg {
            width: 28px;
            height: 28px;
            margin-right: 10px;
            color: #38bdf8; /* äº®è“ */
        }
        .explanation-text {
            font-size: 1.05rem;
            color: var(--text-dark);
            line-height: 1.8;
            margin-bottom: 18px;
        }
        /* ç”¨äºé—®é¢˜1-3çš„æ€è€ƒæ­¥éª¤ */
        .thinking-process-item {
            background-color: #e0f2fe; /* æ›´æµ…çš„è“ */
            border-left: 4px solid var(--primary-color);
            padding: 14px 18px;
            margin-bottom: 14px;
            border-radius: 8px;
            font-size: 1rem; /* ç¨å¤§ */
            color: #1e3a8a;
            opacity: 0;
            transform: translateX(-20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .thinking-process-item.visible {
            opacity: 1;
            transform: translateX(0);
        }
        
        /* ç”¨äºè½¬æ¢å™¨æ­¥éª¤çš„ <p> æ ‡ç­¾ */
        .converter-step {
            margin: 12px 0;
            padding: 10px 15px;
            border-left: 4px solid var(--secondary-color); /* ç´«è‰²è¾¹æ¡† */
            background-color: #f5f3ff; /* æ·¡ç´«è‰²èƒŒæ™¯ */
            border-radius: 6px;
            color: #4338ca; /* æ·±ç´«è‰²æ–‡å­— */
            font-size: 1rem;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .converter-step.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .converter-step strong { /* æ­¥éª¤æ ‡é¢˜åŠ ç²— */
             font-weight: 600;
             color: #5b21b6; /* æ›´æ·±çš„ç´«è‰² */
             display: block; /* æ ‡é¢˜å ä¸€è¡Œ */
             margin-bottom: 5px;
        }
         .converter-step .math-formula { 
             font-weight: bold; 
             color: var(--text-dark); 
             margin: 8px 0; 
             display: block; 
             text-align: center; 
             font-size: 1.1em;
         }
         .converter-step .result-value { 
             color: var(--accent-color); 
             font-weight: bold; 
             font-size: 1.2em; 
         }
         /* éšè—å…ƒç´  */
         .hidden {
             display: none;
         }

        /* æœ€ç»ˆç­”æ¡ˆæ ·å¼ */
        .answer-text { 
            font-size: 1.2rem;
            font-weight: 700;
            color: #065f46; /* æ·±ç»¿ */
            padding: 14px;
            background-color: #d1fae5; /* æµ…ç»¿ */
            border-radius: 8px;
            margin-top: 20px; 
            display: inline-block;
            border: 2px solid var(--accent-color);
            opacity: 0; 
            transform: translateY(10px); 
            transition: opacity 0.6s ease-out 0.2s, transform 0.6s ease-out 0.2s; 
        }
        .answer-text.visible { 
             opacity: 1;
             transform: translateY(0);
        }

        .interactive-button {
            background-image: linear-gradient(to right, var(--primary-color), #60a5fa);
            color: white;
            font-weight: 600;
            padding: 14px 28px;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            outline: none;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        .interactive-button:hover {
            background-image: linear-gradient(to right, #2563eb, var(--primary-color));
            transform: translateY(-3px) scale(1.03); 
            box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
        }
        .answer-content { /* ç”¨äºé—®é¢˜1-3çš„ç­”æ¡ˆå®¹å™¨ */
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transform: translateY(-10px);
            transition: max-height 0.7s cubic-bezier(0.4, 0, 0.2, 1), 
                        opacity 0.5s ease-out 0.1s, 
                        transform 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                        margin-top 0.7s cubic-bezier(0.4, 0, 0.2, 1);
            margin-top: 0 !important;
        }
        .answer-content.visible {
            max-height: 1500px; 
            opacity: 1;
            transform: translateY(0);
            margin-top: 1.2rem !important;
        }
        .fraction-bar-container {
            width: 100%;
            height: 35px; 
            background-color: #e0e7ff;
            border-radius: 8px;
            margin: 15px 0; 
            display: flex;
            overflow: hidden;
            border: 1px solid #c7d2fe;
            opacity: 0; /* Start hidden for animation */
            transition: opacity 0.5s ease-out; /* Animate opacity */
        }
        .fraction-bar-container.visible {
             opacity: 1;
        }
        .fraction-bar-fill {
            height: 100%;
            background-color: var(--secondary-color);
            width: 0%;
            transition: width 1s ease-out;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.85rem; 
        }
        .simplification-step { margin: 10px 0; padding: 8px; background-color: #f3f4f6; border-radius: 6px; }
        .unit-block-container { display: flex; flex-wrap: wrap; gap: 10px; margin: 20px 0; padding: 12px; background-color: #e0f2fe; border-radius: 10px; }
        .unit-block { width: 38px; height: 38px; border: 2px solid #a5f3fc; border-radius: 8px; display: flex; justify-content: center; align-items: center; font-size: 0.75rem; font-weight: 600; color: #0e7490; background-color: #f0f9ff; opacity: 0; transform: scale(0.3) rotate(-20deg); transition: opacity 0.5s ease-out, transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), background-color 0.6s ease-in-out, border-color 0.6s ease-in-out, color 0.6s ease-in-out; }
        .unit-block.visible { opacity: 1; transform: scale(1) rotate(0deg); }
        .unit-block.filled { background-color: #22d3ee; border-color: #06b6d4; color: white; }
        .unit-block.added { background-color: var(--accent-color); border-color: #10b981; color: white; }
        .unit-block.target-empty { background-color: #e0e7ff; border-color: #a5b4fc; color: #4338ca; }
        
        /* æ—¶é—´è½¬æ¢å™¨æ ·å¼ */
        .converter-container { margin-top: 20px; }
        .toggle-switch-container { display: flex; align-items: center; justify-content: center; margin-bottom: 20px; background-color: #e5e7eb; border-radius: 30px; padding: 5px; width: fit-content; margin-left: auto; margin-right: auto;}
        .switch-label { padding: 8px 16px; cursor: pointer; color: var(--text-medium); font-weight: 500; border-radius: 25px; transition: background-color 0.3s ease, color 0.3s ease; }
        .switch-label.active { background-color: var(--primary-color); color: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .input-group { display: flex; gap: 10px; margin-bottom: 20px; align-items: center; }
        .input-group input[type="number"] { flex-grow: 1; padding: 12px 16px; border: 2px solid var(--border-medium); border-radius: 8px; font-size: 1rem; transition: border-color 0.3s ease, box-shadow 0.3s ease; }
        .input-group input[type="number"]:focus { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2); outline: none; }
        .custom-converter-result { 
            margin-top: 20px; 
            padding: 16px; 
            background-color: #eef2ff; /* æ·¡ç´«è‰²èƒŒæ™¯ï¼Œä¸æ­¥éª¤åŒºåˆ† */
            border-radius: 8px; 
            border-left: 5px solid var(--secondary-color); /* ç´«è‰²è¾¹æ¡† */
            opacity: 0; 
            transform: translateY(10px); 
            transition: opacity 0.5s ease-out, transform 0.5s ease-out; 
            min-height: 50px; 
        }
        .custom-converter-result.visible { opacity: 1; transform: translateY(0); }
        .custom-converter-result > p:first-of-type { /* èµ·å§‹è¯´æ˜æ–‡æœ¬ */
             margin-bottom: 15px; 
             font-size: 1.1rem; 
             color: #4338ca; /* æ·±ç´«è‰² */
             font-weight: 600;
        }
         /* ç¡®ä¿è½¬æ¢å™¨æ­¥éª¤å’Œæœ€ç»ˆç­”æ¡ˆåœ¨å®¹å™¨å†…æ˜¾ç¤º */
        .custom-converter-result .converter-step,
        .custom-converter-result .answer-text {
             /* Styles defined above will apply */
        }

        .custom-converter-result .highlight { font-weight: 700; color: var(--accent-color); } /* ç»“æœé«˜äº® */

        /* æ¶ˆæ¯æ¡†æ ·å¼ */
        .message-box-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.65); display: flex; justify-content: center; align-items: center; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease; }
        .message-box-overlay.visible { opacity: 1; visibility: visible; }
        .message-box { background-color: white; padding: 35px; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); text-align: center; max-width: 420px; width: 90%; }
        .message-box h3 { font-size: 1.6rem; color: #1e40af; margin-bottom: 18px; }
        .message-box p { font-size: 1.05rem; color: var(--text-medium); margin-bottom: 28px; }
        .message-box button { background-color: #2563eb; color: white; padding: 14px 28px; border: none; border-radius: 30px; font-size: 1rem; cursor: pointer; transition: background-color 0.2s ease; }
        .message-box button:hover { background-color: #1d4ed8; }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-3xl mx-auto">
        <header class="mb-10 text-center content-card" style="animation-delay: 0s;">
             <h1 class="text-3xl md:text-4xl font-bold text-sky-700">ğŸ€ ç¯®çƒ24ç§’è§„åˆ™ä¸å°æ•°æ¢ç§˜ ğŸ¤”</h1>
             <p class="text-slate-600 mt-3 text-lg">ä¸€æ­¥ä¸€æ­¥ï¼Œè§£å¼€æ•°å­¦çš„å¥¥ç§˜ï¼</p>
         </header>

         <div class="content-card" style="animation-delay: 0.1s;">
              <h2 class="question-title">
                 <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z" /></svg>
                 ä»€ä¹ˆæ˜¯ç¯®çƒâ€œ24ç§’è¿›æ”»â€è§„åˆ™ï¼Ÿ
             </h2>
             <p class="explanation-text">
                 åœ¨ç¯®çƒæ¯”èµ›ä¸­ï¼Œå½“ä¸€æ”¯é˜Ÿä¼è·å¾—çƒæƒåï¼ˆä»æ¥è§¦çƒçš„é‚£ä¸€åˆ»å¼€å§‹ç®—èµ·ï¼‰ï¼Œä»–ä»¬å¿…é¡»åœ¨<strong>24ç§’</strong>å†…å°è¯•æŠ•ç¯®è¿›æ”»ã€‚å¦‚æœè¶…è¿‡24ç§’æ²¡æœ‰æŠ•ç¯®ï¼Œå°±ä¼šè¢«åˆ¤â€œ24ç§’è¿›æ”»è¿ä¾‹â€ï¼Œçƒæƒå°±è¦äº¤ç»™å¯¹æ–¹äº†ã€‚è¿™ä¸ªè§„åˆ™æ˜¯ä¸ºäº†è®©æ¯”èµ›èŠ‚å¥æ›´å¿«ã€æ›´ç²¾å½©ï¼
             </p>
             <p class="explanation-text">
                 è¿™ä¸ªè§„åˆ™æ˜¯ä¸¹å°¼ (Danny Biasone) åœ¨1954å¹´æå‡ºçš„ï¼Œä»–å¸Œæœ›é€šè¿‡é™åˆ¶æ¯æ¬¡è¿›æ”»çš„æ—¶é—´æ¥å¢åŠ æ¯”èµ›çš„æŠ•ç¯®æ¬¡æ•°å’Œè§‚èµæ€§ã€‚
             </p>
         </div>

         <div class="content-card" style="animation-delay: 0.2s;">
             <h2 class="question-title">
                 <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" /></svg>
                 é—®é¢˜ä¸€ï¼š24ç§’æ˜¯å¤šå°‘åˆ†é’Ÿå‘¢ï¼Ÿ (æ€è€ƒè¿‡ç¨‹å…¨è§£æ)
             </h2>
             <p class="explanation-text">
                 æˆ‘ä»¬éœ€è¦æŠŠ24ç§’è½¬æ¢æˆä»¥â€œåˆ†â€ä¸ºå•ä½çš„å°æ•°ã€‚
                 <br>å…³é”®ä¿¡æ¯ï¼š<strong>1 åˆ†é’Ÿ = 60 ç§’</strong>ã€‚
             </p>
             <button id="q1Button" class="interactive-button">å¼€å§‹é€æ­¥æ€è€ƒä¸è®¡ç®—</button>
             <div id="q1Answer" class="answer-content">
                 <div class="thinking-process-item" id="q1_step1">
                     <strong>æ€è€ƒæ­¥éª¤1ï¼šç†è§£é—®é¢˜</strong>
                     <p>æˆ‘ä»¬è¦æŠŠâ€œç§’â€å˜æˆâ€œåˆ†é’Ÿâ€ã€‚å› ä¸º1åˆ†é’Ÿæœ‰60ç§’ï¼Œæ‰€ä»¥24ç§’è‚¯å®šæ˜¯ä¸åˆ°1åˆ†é’Ÿçš„ï¼Œå®ƒåªæ˜¯1åˆ†é’Ÿçš„â€œä¸€éƒ¨åˆ†â€ã€‚</p>
                 </div>
                 <div class="thinking-process-item" id="q1_step2">
                     <strong>æ€è€ƒæ­¥éª¤2ï¼šå»ºç«‹åˆ†æ•°å…³ç³»</strong>
                     <p>24ç§’æ˜¯60ç§’ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åˆ†æ•°æ¥è¡¨ç¤ºè¿™ä¸ªå…³ç³»ï¼š $\frac{24}{60}$ åˆ†é’Ÿã€‚
                     <br>æƒ³è±¡ä¸€ä¸ªé•¿æ¡ä»£è¡¨1åˆ†é’Ÿ (60ç§’)ï¼Œæˆ‘ä»¬å–äº†å…¶ä¸­çš„24ç§’ï¼š</p>
                     <div class="fraction-bar-container">
                         <div id="q1_fraction_bar" class="fraction-bar-fill"></div>
                     </div>
                     <p id="q1_fraction_text" class="text-sm text-center text-indigo-700 font-semibold"></p>
                 </div>
                 <div class="thinking-process-item" id="q1_step3">
                     <strong>æ€è€ƒæ­¥éª¤3ï¼šåŒ–ç®€åˆ†æ•°ï¼ˆè®©æ•°å­—æ›´ç®€å•ï¼‰</strong>
                     <p>åˆ†æ•° $\frac{24}{60}$ å¯ä»¥åŒ–ç®€ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä»¥ä¸‹æ€è·¯ï¼š</p>
                     <div id="q1_simplification_steps">
                         </div>
                 </div>
                 <div class="thinking-process-item" id="q1_step4">
                     <strong>æ€è€ƒæ­¥éª¤4ï¼šåˆ†æ•°è½¬å°æ•°ï¼ˆé¢˜ç›®è¦æ±‚ï¼‰</strong>
                     <p>æ ¹æ®ä¸Šé¢çš„åŒ–ç®€ç»“æœï¼Œ$\frac{24}{60}$ ç­‰äº $\frac{2}{5}$ æˆ– $\frac{4}{10}$ã€‚è¦æŠŠåˆ†æ•°è½¬æ¢æˆå°æ•°ï¼Œæˆ‘ä»¬ç”¨åˆ†å­é™¤ä»¥åˆ†æ¯ï¼š</p>
                     <p id="q1_division_result" class="mt-2 text-lg font-bold text-emerald-700"></p>
                 </div>
                 <p class="answer-text" id="q1_final_answer">æ‰€ä»¥ï¼Œ24ç§’æ˜¯ 0.4 åˆ†ã€‚</p>
             </div>
         </div>

         <div class="content-card" style="animation-delay: 0.3s;">
             <h2 class="question-title">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" /></svg>
                 é—®é¢˜äºŒï¼š0.4 è¿™ä¸ªå°æ•°çš„è®¡æ•°å•ä½æ˜¯ä»€ä¹ˆï¼Ÿ
             </h2>
             <p class="explanation-text">
                 å°æ•°çš„â€œè®¡æ•°å•ä½â€æŒ‡çš„æ˜¯è¿™ä¸ªå°æ•°æœ€å³è¾¹ä¸€ä½ä»£è¡¨çš„æ˜¯ä»€ä¹ˆã€‚
             </p>
             <button id="q2Button" class="interactive-button">æ¢ç´¢è®¡æ•°å•ä½</button>
             <div id="q2Answer" class="answer-content">
                 <div class="thinking-process-item" id="q2_step1">
                     <strong>æ€è€ƒæ­¥éª¤1ï¼šè§‚å¯Ÿå°æ•°çš„ä½æ•°</strong>
                     <p>æˆ‘ä»¬çš„å°æ•°æ˜¯ <strong>0.4</strong>ã€‚å°æ•°ç‚¹åé¢æœ‰å‡ ä½æ•°å­—å‘¢ï¼Ÿåªæœ‰ä¸€ä½ï¼Œå°±æ˜¯æ•°å­—â€œ4â€ã€‚</p>
                 </div>
                 <div class="thinking-process-item" id="q2_step2">
                     <strong>æ€è€ƒæ­¥éª¤2ï¼šç†è§£å°æ•°ä½ä»£è¡¨çš„æ„ä¹‰</strong>
                     <p> - å°æ•°ç‚¹åç¬¬ä¸€ä½ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œååˆ†ä½â€ï¼Œå®ƒçš„è®¡æ•°å•ä½æ˜¯â€œååˆ†ä¹‹ä¸€â€ï¼ˆä¹Ÿå°±æ˜¯0.1ï¼‰ã€‚
                     <br> - å¦‚æœæ˜¯å°æ•°ç‚¹åç¬¬äºŒä½ï¼Œæ¯”å¦‚0.05ï¼Œé‚£å«â€œç™¾åˆ†ä½â€ï¼Œè®¡æ•°å•ä½æ˜¯â€œç™¾åˆ†ä¹‹ä¸€â€ï¼ˆ0.01ï¼‰ã€‚</p>
                 </div>
                 <div class="thinking-process-item" id="q2_step3">
                     <strong>æ€è€ƒæ­¥éª¤3ï¼šç¡®å®š0.4çš„è®¡æ•°å•ä½</strong>
                     <p>å› ä¸º0.4çš„å°æ•°ç‚¹ååªæœ‰ä¸€ä½ï¼Œåœ¨ååˆ†ä½ä¸Šï¼Œæ‰€ä»¥å®ƒçš„è®¡æ•°å•ä½å°±æ˜¯â€œååˆ†ä¹‹ä¸€â€ã€‚</p>
                     <p class="mt-2">æˆ‘ä»¬å¯ä»¥æŠŠ0.4æƒ³è±¡æˆæŠŠâ€œ1â€åˆ†æˆäº†10å°ä»½ï¼Œæˆ‘ä»¬å–äº†å…¶ä¸­çš„4ä»½ã€‚æ¯ä¸€å°ä»½å°±æ˜¯0.1ã€‚</p>
                     <div class="text-2xl font-bold text-center my-4">
                         0 . <span id="q2_highlight_digit" class="text-blue-600 p-1 rounded bg-blue-100 transition-all duration-500">4</span>
                         <p id="q2_unit_explanation" class="text-sm font-normal text-gray-600 mt-1 opacity-0 transition-opacity duration-500"> (è¿™é‡Œçš„ "4" åœ¨ååˆ†ä½ä¸Š)</p>
                     </div>
                 </div>
                 <p class="answer-text" id="q2_final_answer">æ‰€ä»¥ï¼Œ0.4 çš„è®¡æ•°å•ä½æ˜¯ <strong>ååˆ†ä¹‹ä¸€</strong> (æˆ–å†™ä½œ <strong>0.1</strong>)ã€‚</p>
             </div>
         </div>

         <div class="content-card" style="animation-delay: 0.4s;">
             <h2 class="question-title">
                 <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" /></svg>
                 é—®é¢˜ä¸‰ï¼šå†æ·»ä¸Šå¤šå°‘ä¸ªè¿™æ ·çš„è®¡æ•°å•ä½ (0.1) å°±ç­‰äº1ï¼Ÿ
             </h2>
             <p class="explanation-text">
                 æˆ‘ä»¬ç°åœ¨æœ‰0.4ï¼Œå®ƒè¡¨ç¤ºæœ‰4ä¸ª0.1ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å‡‘æˆ1ã€‚
                 <br>å…³é”®ä¿¡æ¯ï¼š <strong>1 ç­‰äº 10 ä¸ª 0.1</strong> (å› ä¸º $1 = \frac{10}{10}$)ã€‚
             </p>
             <p class="explanation-text"><strong>å¯è§†åŒ–æ€è€ƒï¼š</strong> æƒ³è±¡æˆ‘ä»¬æœ‰ä¸€ä¸ªå¯ä»¥æ”¾10ä¸ªå°æ–¹å—çš„ç›’å­ (ä»£è¡¨æ•´æ•°â€œ1â€)ï¼Œæ¯ä¸ªå°æ–¹å—ä»£è¡¨0.1ã€‚</p>
             <div class="unit-block-container" id="unitBlocks">
                 </div>
             <button id="q3Button" class="interactive-button">å¼€å§‹æ·»åŠ æ–¹å—çœ‹çœ‹</button>
             <div id="q3Answer" class="answer-content">
                 <div class="thinking-process-item" id="q3_step1">
                     <strong>æ€è€ƒæ­¥éª¤1ï¼šæˆ‘ä»¬ç°åœ¨æœ‰å¤šå°‘ï¼Ÿ</strong>
                     <p>æˆ‘ä»¬æœ‰0.4ï¼Œè¿™ç›¸å½“äºå·²ç»æœ‰ <strong>4ä¸ª</strong> 0.1çš„å°æ–¹å—è¢«å¡«æ»¡äº†ã€‚</p>
                 </div>
                 <div class="thinking-process-item" id="q3_step2">
                     <strong>æ€è€ƒæ­¥éª¤2ï¼šæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¤šå°‘ï¼Ÿ</strong>
                     <p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å‡‘æˆâ€œ1â€ã€‚å› ä¸º1ç­‰äº10ä¸ª0.1ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¡«æ»¡å…¨éƒ¨ <strong>10ä¸ª</strong> å°æ–¹å—ã€‚</p>
                 </div>
                 <div class="thinking-process-item" id="q3_step3">
                     <strong>æ€è€ƒæ­¥éª¤3ï¼šè¿˜å·®å¤šå°‘ï¼Ÿ</strong>
                     <p>è¦ä»4ä¸ªæ–¹å—å˜æˆ10ä¸ªæ–¹å—ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ï¼š $10 - 4 = 6$ ä¸ªæ–¹å—ã€‚</p>
                     <p>æˆ–è€…ç”¨å°æ•°è®¡ç®—ï¼šç›®æ ‡æ˜¯1ï¼Œæˆ‘ä»¬æœ‰0.4ï¼Œè¿˜å·® $1 - 0.4 = 0.6$ã€‚
                     <br>å› ä¸ºæ¯ä¸ªæ–¹å—æ˜¯0.1ï¼Œæ‰€ä»¥0.6é‡Œé¢æœ‰ $0.6 \div 0.1 = 6$ ä¸ªæ–¹å—ã€‚</p>
                 </div>
                 <p class="answer-text" id="q3_final_answer">æ‰€ä»¥ï¼Œå†æ·»ä¸Š <strong>6</strong> ä¸ªè¿™æ ·çš„è®¡æ•°å•ä½ (0.1) å°±ç­‰äº1ã€‚</p>
             </div>
         </div>

        <div class="content-card" style="animation-delay: 0.5s;">
            <h2 class="question-title">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l-2.25-4.5m-2.25 4.5V18c0 .966.784 1.75 1.75 1.75h.5A1.75 1.75 0 0 0 18 18v-2.25m-7.5 0V18c0 .966.784 1.75 1.75 1.75h.5A1.75 1.75 0 0 0 13.5 18v-2.25m-7.5 0V18c0 .966.784 1.75 1.75 1.75h.5A1.75 1.75 0 0 0 7.5 18v-2.25M3 12h18M3 12l-2.25-4.5M21 12l-2.25-4.5" />
                </svg>
                è‡ªç”±æ¢ç´¢ï¼šæ—¶é—´å•ä½è½¬æ¢å™¨
            </h2>
            <p class="explanation-text">
                é€‰æ‹©è½¬æ¢æ–¹å‘ï¼Œè¾“å…¥æ—¶é—´ï¼Œçœ‹çœ‹ç»“æœå’Œè®¡ç®—è¿‡ç¨‹å§ï¼
            </p>

            <div class="converter-container">
                <div class="toggle-switch-container">
                    <span id="switchSecToMin" class="switch-label active" data-direction="secToMin">ç§’ â†’ åˆ†é’Ÿ</span>
                    <span id="switchMinToSec" class="switch-label" data-direction="minToSec">åˆ†é’Ÿ â†’ ç§’</span>
                </div>

                <div class="input-group">
                    <input type="number" id="customTimeInput" placeholder="è¾“å…¥ç§’æ•° (ä¾‹å¦‚: 75)" class="text-slate-700" step="any">
                    <button id="customConvertButton" class="interactive-button">è½¬æ¢</button>
                </div>

                <div id="customConverterResult" class="custom-converter-result" style="display: none;">
                    <p id="converterStartText"></p> 
                    
                    <div id="secToMinSteps" class="hidden">
                        <p class="converter-step" id="secToMin_step1_p"></p>
                        <p class="converter-step" id="secToMin_step2_p"></p>
                        <p class="converter-step" id="secToMin_step3_p"></p>
                        <p class="converter-step" id="secToMin_step4_p">
                            <span id="secToMin_step4_content"></span> 
                        </p>
                        <p class="converter-step" id="secToMin_step5_p">
                            <span id="secToMin_step5_content"></span>
                            <div class="fraction-bar-container hidden" id="customFractionBarContainer_sec">
                                <div id="custom_fraction_bar_sec" class="fraction-bar-fill"></div>
                            </div>
                            <span id="customFractionExplanation_sec" class="text-sm text-center text-indigo-700 font-semibold block mt-2"></span>
                        </p>
                        <p class="answer-text" id="secToMin_final_answer_p"></p>
                    </div>

                    <div id="minToSecSteps" class="hidden">
                        <p class="converter-step" id="minToSec_step1_p"></p>
                        <p class="converter-step" id="minToSec_step2_p"></p>
                        <p class="converter-step" id="minToSec_step3_p"></p> 
                        <p class="converter-step" id="minToSec_step4_p"></p>
                        <p class="answer-text" id="minToSec_final_answer_p"></p>
                    </div>
                </div>
            </div>
        </div>

        <footer class="text-center mt-12 mb-8">
            <p class="text-slate-500 text-sm">å¸Œæœ›è¿™ä¸ªäº¤äº’å¼è®²è§£èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£æ•°å­¦çš„æ€è€ƒè¿‡ç¨‹ï¼</p>
        </footer>
    </div>

    <div id="messageBoxOverlay" class="message-box-overlay">
        <div class="message-box">
            <h3 id="messageBoxTitle">æç¤º</h3>
            <p id="messageBoxText">è¿™é‡Œæ˜¯æ¶ˆæ¯å†…å®¹ã€‚</p>
            <button id="messageBoxButton">å¥½çš„</button>
        </div>
    </div>

    <script>
        // --- è¾…åŠ©å‡½æ•° ---
        function showMessage(title, text) {
            document.getElementById('messageBoxTitle').textContent = title;
            document.getElementById('messageBoxText').textContent = text;
            document.getElementById('messageBoxOverlay').classList.add('visible');
        }
        document.getElementById('messageBoxButton').addEventListener('click', () => {
            document.getElementById('messageBoxOverlay').classList.remove('visible');
        });

        window.MathJax = {
            tex: { 
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                processEscapes: true 
            },
            svg: { fontCache: 'global' },
            startup: { 
                ready: () => { 
                    MathJax.startup.defaultReady(); 
                } 
            }
        };

        // æ”¹è¿›çš„ typesetMath å‡½æ•°
        function typesetMath(element) {
            if (typeof MathJax !== 'undefined' && MathJax.typesetPromise && element && document.body.contains(element)) {
                requestAnimationFrame(() => {
                    MathJax.typesetPromise([element]).catch((err) => console.error('MathJax typesetting error:', err));
                });
            } else if (typeof MathJax !== 'undefined' && MathJax.typesetPromise && element) {
                 setTimeout(() => typesetMath(element), 50); 
            }
        }


        // åŠ¨ç”»å‡½æ•°
        function animateElement(element, delay = 0) {
             if(!element) return; 
            // ç¡®ä¿å…ƒç´ å…ˆæ˜¯éšè—çš„ï¼Œç§»é™¤ visible ç±»
            element.classList.remove('visible');
            // å¼ºåˆ¶æµè§ˆå™¨é‡ç»˜ï¼Œç¡®ä¿ç§»é™¤ç”Ÿæ•ˆ
             void element.offsetWidth; 
            // å»¶è¿Ÿåæ·»åŠ  visible ç±»ä»¥è§¦å‘åŠ¨ç”»
            setTimeout(() => {
                element.classList.add('visible');
            }, delay);
        }
        
        // --- é—®é¢˜1-3çš„é€»è¾‘ (ä¿æŒä¸å˜, ä½†ç¡®ä¿è°ƒç”¨ animateElement å’Œ typesetMath) ---
        // é—®é¢˜ä¸€é€»è¾‘
        const q1Button = document.getElementById('q1Button');
        const q1Answer = document.getElementById('q1Answer');
        q1Button.dataset.defaultText = 'å¼€å§‹é€æ­¥æ€è€ƒä¸è®¡ç®—';
        q1Button.addEventListener('click', () => {
            const isNowVisible = !q1Answer.classList.contains('visible');
            q1Answer.classList.toggle('visible');
            q1Button.textContent = isNowVisible ? 'éšè—æ€è€ƒè¿‡ç¨‹' : q1Button.dataset.defaultText;

            if (isNowVisible) {
                let delay = 0;
                const step1 = document.getElementById('q1_step1');
                const step2 = document.getElementById('q1_step2');
                const step3 = document.getElementById('q1_step3');
                const step4 = document.getElementById('q1_step4');
                const finalAnswerEl = document.getElementById('q1_final_answer');
                
                // éšè—æ‰€æœ‰æ­¥éª¤å’Œç­”æ¡ˆï¼Œå‡†å¤‡åŠ¨ç”»
                [step1, step2, step3, step4, finalAnswerEl].forEach(el => el?.classList.remove('visible'));

                if(step1) animateElement(step1, delay); delay += 700;
                if(step2) animateElement(step2, delay); 
                setTimeout(() => {
                    const bar = document.getElementById('q1_fraction_bar');
                    const barText = document.getElementById('q1_fraction_text');
                    if(bar && barText){ 
                        bar.style.width = (24/60)*100 + '%';
                        bar.textContent = '24/60';
                        barText.textContent = 'è¿›åº¦æ¡æ˜¾ç¤ºäº†60ä»½ä¸­çš„24ä»½';
                    }
                    typesetMath(step2); 
                }, delay + 200);
                delay += 1500; 

                if(step3) animateElement(step3, delay);
                const simplificationDiv = document.getElementById('q1_simplification_steps');
                if(simplificationDiv){ 
                    simplificationDiv.innerHTML = ''; // æ¸…ç©ºæ—§å†…å®¹
                    const steps = [
                        {text: "<strong>æ€è·¯1 (ç›´æ¥çº¦åˆ†):</strong> æ‰¾åˆ°24å’Œ60çš„æœ€å¤§å…¬å› æ•°12ã€‚", result: "$\\frac{24 \\div 12}{60 \\div 12} = \\frac{2}{5}$"},
                        {text: "<strong>æ€è·¯2 (å…ˆçº¦æˆå°æ•°å‹å¥½çš„åˆ†æ¯):</strong> å…ˆåŒæ—¶é™¤ä»¥6ã€‚", result: "$\\frac{24 \\div 6}{60 \\div 6} = \\frac{4}{10}$"},
                        {text: "<strong>æ€è·¯3 (åˆ†è§£å› æ•°):</strong> $\\frac{24}{60} = \\frac{2 \\times 2 \\times 2 \\times 3}{2 \\times 2 \\times 3 \\times 5} = \\require{cancel}\\frac{\\cancel{2} \\times \\cancel{2} \\times 2 \\times \\cancel{3}}{\\cancel{2} \\times \\cancel{2} \\times \\cancel{3} \\times 5} = \\frac{2}{5}$", result: ""}
                    ];
                     let simplificationDelay = delay;
                    steps.forEach((step, index) => {
                        setTimeout(() => {
                            const p = document.createElement('p');
                            p.className = 'simplification-step';
                            p.innerHTML = step.text + (step.result ? ` <span class="font-bold">${step.result}</span>` : '');
                            simplificationDiv.appendChild(p);
                            typesetMath(p); // æ¸²æŸ“æ¯ä¸ªæ­¥éª¤
                        }, simplificationDelay + index * 1200);
                    });
                    delay += steps.length * 1200;
                    typesetMath(step3); // ç¡®ä¿æ­¥éª¤3å®¹å™¨ä¹Ÿè¢«æ¸²æŸ“
                }


                if(step4) animateElement(step4, delay);
                setTimeout(() => {
                    const divisionResultEl = document.getElementById('q1_division_result');
                     if(divisionResultEl){ 
                        divisionResultEl.innerHTML = "$\\frac{2}{5} = 2 \\div 5 = 0.4$ æˆ– $\\frac{4}{10} = 0.4$";
                        typesetMath(divisionResultEl);
                     }
                     typesetMath(step4); // æ¸²æŸ“æ­¥éª¤4å®¹å™¨
                }, delay + 500);
                delay += 1000;
                
                if(finalAnswerEl) {
                     animateElement(finalAnswerEl, delay);
                 }

            } else { 
                q1Answer.querySelectorAll('.thinking-process-item, .answer-text').forEach(el => el.classList.remove('visible'));
                const bar = document.getElementById('q1_fraction_bar');
                const barText = document.getElementById('q1_fraction_text');
                const simplificationDiv = document.getElementById('q1_simplification_steps');
                const divisionResultEl = document.getElementById('q1_division_result');
                
                if(bar) bar.style.width = '0%';
                if(bar) bar.textContent = '';
                if(barText) barText.textContent = '';
                if(simplificationDiv) simplificationDiv.innerHTML = '';
                if(divisionResultEl) divisionResultEl.innerHTML = '';
            }
        });

        // é—®é¢˜äºŒé€»è¾‘
        const q2Button = document.getElementById('q2Button');
        const q2Answer = document.getElementById('q2Answer');
        q2Button.dataset.defaultText = 'æ¢ç´¢è®¡æ•°å•ä½';
        q2Button.addEventListener('click', () => {
            const isNowVisible = !q2Answer.classList.contains('visible');
            q2Answer.classList.toggle('visible');
            q2Button.textContent = isNowVisible ? 'éšè—æ¢ç´¢è¿‡ç¨‹' : q2Button.dataset.defaultText;
            if (isNowVisible) {
                let delay = 0;
                const step1 = document.getElementById('q2_step1');
                const step2 = document.getElementById('q2_step2');
                const step3 = document.getElementById('q2_step3');
                const finalAnswerEl = document.getElementById('q2_final_answer');

                // éšè—æ‰€æœ‰æ­¥éª¤å’Œç­”æ¡ˆï¼Œå‡†å¤‡åŠ¨ç”»
                [step1, step2, step3, finalAnswerEl].forEach(el => el?.classList.remove('visible'));

                if(step1) animateElement(step1, delay); delay += 700;
                if(step2) animateElement(step2, delay); delay += 700;
                if(step3) animateElement(step3, delay); 
                setTimeout(() => {
                     const highlightDigit = document.getElementById('q2_highlight_digit');
                     const unitExplanation = document.getElementById('q2_unit_explanation');
                     if(highlightDigit) {
                         highlightDigit.style.transform = 'scale(1.5)';
                         highlightDigit.style.fontWeight = 'bold';
                     }
                     if(unitExplanation) unitExplanation.style.opacity = '1';
                }, delay + 300);
                delay += 1000;
                 if(finalAnswerEl) {
                     animateElement(finalAnswerEl, delay);
                 }
                 typesetMath(q2Answer); // ç»Ÿä¸€æ¸²æŸ“
            } else {
                 q2Answer.querySelectorAll('.thinking-process-item, .answer-text').forEach(el => el.classList.remove('visible'));
                 const highlightDigit = document.getElementById('q2_highlight_digit');
                 const unitExplanation = document.getElementById('q2_unit_explanation');
                 if(highlightDigit) {
                     highlightDigit.style.transform = 'scale(1)';
                     highlightDigit.style.fontWeight = 'normal';
                 }
                 if(unitExplanation) unitExplanation.style.opacity = '0';
            }
        });

        // é—®é¢˜ä¸‰é€»è¾‘
        const q3Button = document.getElementById('q3Button');
        const q3Answer = document.getElementById('q3Answer');
        const unitBlocksContainer = document.getElementById('unitBlocks');
        const totalUnits = 10;
        const initialFilledUnits = 4;
        q3Button.dataset.defaultText = 'å¼€å§‹æ·»åŠ æ–¹å—çœ‹çœ‹';

        function renderUnitBlocks(isAnswerRevealed = false, animateTransition = false) {
            if(!unitBlocksContainer) return; 
            unitBlocksContainer.innerHTML = ''; 
            for (let i = 0; i < totalUnits; i++) {
                const block = document.createElement('div');
                block.classList.add('unit-block');
                block.textContent = '0.1';

                if (i < initialFilledUnits) {
                    block.classList.add('filled');
                } else if (isAnswerRevealed && i >= initialFilledUnits) {
                    if (animateTransition) { 
                         block.classList.add('target-empty');
                    } else { 
                         block.classList.add('target-empty');
                    }
                } else { 
                     block.classList.add('target-empty');
                }
                unitBlocksContainer.appendChild(block);
                void block.offsetWidth; 
                setTimeout(() => { 
                    block.classList.add('visible');
                    if (isAnswerRevealed && animateTransition && i >= initialFilledUnits) {
                        setTimeout(() => {
                            block.classList.remove('target-empty'); 
                            block.classList.add('added'); 
                        }, 500 + i * 50); 
                    }
                }, i * 70 + 50); 
            }
        }
        
        renderUnitBlocks(false); 

        q3Button.addEventListener('click', () => {
            const isNowVisible = !q3Answer.classList.contains('visible');
            q3Answer.classList.toggle('visible');
            q3Button.textContent = isNowVisible ? 'éšè—æ€è€ƒè¿‡ç¨‹' : q3Button.dataset.defaultText;

            if (isNowVisible) {
                renderUnitBlocks(true, true); 
                typesetMath(q3Answer); 
                let delay = 0;
                const step1 = document.getElementById('q3_step1');
                const step2 = document.getElementById('q3_step2');
                const step3 = document.getElementById('q3_step3');
                const finalAnswerEl = document.getElementById('q3_final_answer');

                 // éšè—æ‰€æœ‰æ­¥éª¤å’Œç­”æ¡ˆï¼Œå‡†å¤‡åŠ¨ç”»
                [step1, step2, step3, finalAnswerEl].forEach(el => el?.classList.remove('visible'));

                if(step1) animateElement(step1, delay); delay += 700;
                if(step2) animateElement(step2, delay); delay += 700;
                if(step3) animateElement(step3, delay); delay += 700; 
                 if(finalAnswerEl) {
                     animateElement(finalAnswerEl, delay);
                 }
            } else {
                renderUnitBlocks(false); 
                q3Answer.querySelectorAll('.thinking-process-item, .answer-text').forEach(el => el.classList.remove('visible'));
            }
        });

        // --- æ—¶é—´è½¬æ¢å™¨é€»è¾‘ ---
        const customTimeInput = document.getElementById('customTimeInput');
        const customConvertButton = document.getElementById('customConvertButton');
        const customConverterResultDiv = document.getElementById('customConverterResult');
        const switchSecToMin = document.getElementById('switchSecToMin');
        const switchMinToSec = document.getElementById('switchMinToSec');
        const secToMinStepsContainer = document.getElementById('secToMinSteps');
        const minToSecStepsContainer = document.getElementById('minToSecSteps');
        const converterStartText = document.getElementById('converterStartText');

        let currentConversionDirection = 'secToMin'; // é»˜è®¤æ–¹å‘

        // åˆ‡æ¢è½¬æ¢æ–¹å‘
        function setConversionDirection(direction) {
            currentConversionDirection = direction;
            customConverterResultDiv.style.display = 'none'; // åˆ‡æ¢æ—¶éšè—æ—§ç»“æœ
            customConverterResultDiv.classList.remove('visible');
            converterStartText.innerHTML = ''; // æ¸…ç©ºèµ·å§‹æ–‡æœ¬
            secToMinStepsContainer.classList.add('hidden'); // éšè—æ‰€æœ‰æ­¥éª¤å®¹å™¨
            minToSecStepsContainer.classList.add('hidden'); 
            // éšè—æ‰€æœ‰æ­¥éª¤å†…å®¹
            customConverterResultDiv.querySelectorAll('.converter-step, .answer-text').forEach(el => el.classList.add('hidden'));


            if (direction === 'secToMin') {
                switchSecToMin.classList.add('active');
                switchMinToSec.classList.remove('active');
                customTimeInput.placeholder = 'è¾“å…¥ç§’æ•° (ä¾‹å¦‚: 75)';
                customTimeInput.step = "1"; 
            } else {
                switchSecToMin.classList.remove('active');
                switchMinToSec.classList.add('active');
                customTimeInput.placeholder = 'è¾“å…¥åˆ†é’Ÿæ•° (ä¾‹å¦‚: 1.75)';
                 customTimeInput.step = "any"; 
            }
             customTimeInput.value = ''; // æ¸…ç©ºè¾“å…¥æ¡†
        }

        switchSecToMin.addEventListener('click', () => setConversionDirection('secToMin'));
        switchMinToSec.addEventListener('click', () => setConversionDirection('minToSec'));

        // è½¬æ¢æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        customConvertButton.addEventListener('click', () => {
            const inputValue = customTimeInput.value;
            if (inputValue === '' || isNaN(inputValue)) {
                showMessage('è¾“å…¥é”™è¯¯', 'è¯·è¾“å…¥æœ‰æ•ˆçš„æ—¶é—´æ•°å€¼ï¼');
                customConverterResultDiv.style.display = 'none';
                customConverterResultDiv.classList.remove('visible');
                return;
            }

            const timeValue = parseFloat(inputValue);
            if (timeValue < 0) {
                showMessage('è¾“å…¥é”™è¯¯', 'æ—¶é—´ä¸èƒ½ä¸ºè´Ÿæ•°ï¼');
                customConverterResultDiv.style.display = 'none';
                customConverterResultDiv.classList.remove('visible');
                return;
            }

            // æ¸…ç©ºå¹¶å‡†å¤‡ç»“æœåŒºåŸŸ
            converterStartText.innerHTML = ''; // æ¸…ç©ºèµ·å§‹æ–‡æœ¬
            secToMinStepsContainer.classList.add('hidden'); // éšè—æ‰€æœ‰æ­¥éª¤å®¹å™¨
            minToSecStepsContainer.classList.add('hidden'); 
             // éšè—æ‰€æœ‰æ­¥éª¤å†…å®¹ï¼Œå¹¶ç§»é™¤ visible ç±»ä»¥é‡ç½®åŠ¨ç”»
            customConverterResultDiv.querySelectorAll('.converter-step, .answer-text').forEach(el => {
                el.classList.add('hidden');
                el.classList.remove('visible');
            });
            customConverterResultDiv.style.display = 'block'; // æ˜¾ç¤ºç»“æœå®¹å™¨

            if (currentConversionDirection === 'secToMin') {
                secToMinStepsContainer.classList.remove('hidden'); // æ˜¾ç¤ºç§’->åˆ†æ­¥éª¤å®¹å™¨
                convertSecondsToMinutesAnimated(timeValue);
            } else {
                minToSecStepsContainer.classList.remove('hidden'); // æ˜¾ç¤ºåˆ†->ç§’æ­¥éª¤å®¹å™¨
                convertMinutesToSecondsAnimated(timeValue);
            }
            
            // è§¦å‘ç»“æœåŒºåŸŸå®¹å™¨åŠ¨ç”»
            customConverterResultDiv.classList.remove('visible'); 
            void customConverterResultDiv.offsetWidth; 
            customConverterResultDiv.classList.add('visible');
            
            // å…¨å±€æ¸²æŸ“ä¸€æ¬¡ç»“æœåŒºåŸŸï¼Œç¡®ä¿æ‰€æœ‰åŠ¨æ€æ·»åŠ çš„ MathJax å†…å®¹éƒ½è¢«å¤„ç†
            setTimeout(() => {
                 typesetMath(customConverterResultDiv);
            }, 50); // ç•¥å¾®å»¶è¿Ÿä»¥ç¡®ä¿DOMæ›´æ–°

        });

        // ç§’ -> åˆ†é’Ÿ çš„è½¬æ¢å’Œæ˜¾ç¤ºé€»è¾‘ (ä½¿ç”¨ HTML ç»“æ„å’ŒåŠ¨ç”»)
        function convertSecondsToMinutesAnimated(seconds) {
            const minutes = seconds / 60;
            const fullMinutes = Math.floor(minutes);
            const fractionalMinute = minutes - fullMinutes;
            const minutesString = parseFloat(minutes.toFixed(5)).toString(); 

            let delay = 0;
            
             // èµ·å§‹è¯´æ˜
            converterStartText.innerHTML = `å¼€å§‹è®¡ç®— <span class="highlight">${seconds}</span> ç§’ç­‰äºå¤šå°‘åˆ†é’Ÿ...`;
            delay += 500;

            // è·å–æ­¥éª¤å…ƒç´ 
            const step1P = document.getElementById('secToMin_step1_p');
            const step2P = document.getElementById('secToMin_step2_p');
            const step3P = document.getElementById('secToMin_step3_p');
            const step4P = document.getElementById('secToMin_step4_p');
            const step4Content = document.getElementById('secToMin_step4_content');
            const step5P = document.getElementById('secToMin_step5_p');
            const step5Content = document.getElementById('secToMin_step5_content');
            const barContainer = document.getElementById('customFractionBarContainer_sec');
            const bar = document.getElementById('custom_fraction_bar_sec');
            const explanation = document.getElementById('customFractionExplanation_sec');
            const finalAnswerP = document.getElementById('secToMin_final_answer_p');

            // å¡«å……å¹¶åŠ¨ç”»æ­¥éª¤1
            if(step1P) {
                step1P.innerHTML = `<strong>ç¬¬1æ­¥ï¼šç†è§£ç›®æ ‡</strong>æˆ‘ä»¬è¦æŠŠ ${seconds} ç§’æ¢ç®—æˆåˆ†é’Ÿã€‚å…³é”®åœ¨äºçŸ¥é“ <strong>1 åˆ†é’Ÿ = 60 ç§’</strong>ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç”¨ç§’æ•°é™¤ä»¥ 60ã€‚`;
                step1P.classList.remove('hidden');
                animateElement(step1P, delay);
                delay += 1200;
            }

            // å¡«å……å¹¶åŠ¨ç”»æ­¥éª¤2
            if(step2P) {
                step2P.innerHTML = `<strong>ç¬¬2æ­¥ï¼šåˆ—å‡ºç®—å¼</strong>è®¡ç®—æ–¹æ³•æ˜¯ï¼š<span class="math-formula">$${seconds} \\text{ ç§’} \\div 60 \\frac{\\text{ç§’}}{\\text{åˆ†é’Ÿ}} = ?$</span>`;
                step2P.classList.remove('hidden');
                // typesetMath(step2P); // MathJax will be called on the parent later
                animateElement(step2P, delay);
                delay += 1500;
            }

            // å¡«å……å¹¶åŠ¨ç”»æ­¥éª¤3
            if(step3P) {
                step3P.innerHTML = `<strong>ç¬¬3æ­¥ï¼šè®¡ç®—ç»“æœ</strong>æ‰§è¡Œé™¤æ³•è¿ç®—ï¼š<span class="math-formula">${seconds} Ã· 60 = <span class="result-value">${minutesString}</span></span>`;
                step3P.classList.remove('hidden');
                // typesetMath(step3P); 
                animateElement(step3P, delay);
                delay += 1500;
            }

            // å¡«å……å¹¶åŠ¨ç”»æ­¥éª¤4 (åˆ†æ•°åŒ–ç®€)
            if(step4P && step4Content) {
                 step4Content.innerHTML = `åˆšæ‰çš„é™¤æ³• $${seconds} \\div 60$ å…¶å®å°±æ˜¯åˆ†æ•° $\\frac{${seconds}}{60}$ã€‚æˆ‘ä»¬å¯ä»¥åŒ–ç®€è¿™ä¸ªåˆ†æ•°ï¼š<br>
                 <strong>æ€è·¯1:</strong> ç›´æ¥æ‰¾æœ€å¤§å…¬å› æ•° (å¦‚æœå®¹æ˜“æ‰¾)ã€‚ä¾‹å¦‚ $\\frac{24}{60} = \\frac{24 \\div 12}{60 \\div 12} = \\frac{2}{5}$ã€‚<br>
                 <strong>æ€è·¯2:</strong> å…ˆçº¦åˆ†æˆå°æ•°å‹å¥½çš„åˆ†æ¯ (å¦‚10, 100)ã€‚ä¾‹å¦‚ $\\frac{24}{60} = \\frac{24 \\div 6}{60 \\div 6} = \\frac{4}{10}$ã€‚<br>
                 <strong>æ€è·¯3:</strong> åˆ†è§£å› æ•° $\\frac{24}{60} = \\frac{\\cancel{6} \\times 4}{\\cancel{6} \\times 10} = \\frac{4}{10}$ã€‚<br>
                 åŒ–ç®€åçš„åˆ†æ•° $\\frac{2}{5}$ æˆ– $\\frac{4}{10}$ éƒ½ç­‰äºå°æ•° <span class="result-value">${(seconds/60).toFixed(3)}</span>ã€‚`;
                step4P.innerHTML = `<strong>ç¬¬4æ­¥ï¼š(æ€è€ƒ) åˆ†æ•°å½¢å¼ä¸åŒ–ç®€</strong>` + step4Content.innerHTML; // Combine title and content
                step4P.classList.remove('hidden');
                // typesetMath(step4P); 
                animateElement(step4P, delay);
                delay += 2500; 
            }

            // å¡«å……å¹¶åŠ¨ç”»æ­¥éª¤5 (ç»“æœè§£é‡Šå’Œå¯è§†åŒ–)
             if(step5P && step5Content && barContainer && bar && explanation) {
                 step5Content.innerHTML = `è®¡ç®—ç»“æœæ˜¯ ${minutesString} åˆ†é’Ÿã€‚
                 ${fullMinutes > 0 ? `è¿™è¡¨ç¤ºæœ‰ <span class="text-blue-600 font-bold">${fullMinutes}</span> ä¸ªå®Œæ•´çš„åˆ†é’Ÿã€‚` : ''}
                 ${fractionalMinute > 0.00001 ? `å°æ•°ç‚¹åé¢çš„ <span class="text-purple-600 font-bold">${(fractionalMinute).toFixed(3)}</span> ä»£è¡¨ä¸è¶³ä¸€ä¸ªå®Œæ•´åˆ†é’Ÿçš„éƒ¨åˆ†ã€‚` : (seconds > 0 ? 'è¿™æ­£å¥½æ˜¯æ•´æ•°åˆ†é’Ÿã€‚' : 'ä¹Ÿå°±æ˜¯0åˆ†é’Ÿã€‚')}
                `;
                step5P.innerHTML = `<strong>ç¬¬5æ­¥ï¼šç†è§£ç»“æœ</strong>` + step5Content.innerHTML;
                step5P.classList.remove('hidden');
                animateElement(step5P, delay);
                delay += 1000; 

                 // å¤„ç†è¿›åº¦æ¡
                 if (fractionalMinute > 0.00001) {
                     barContainer.classList.remove('hidden'); 
                     bar.style.width = '0%'; 
                     explanation.textContent = ''; 

                     setTimeout(() => { 
                         animateElement(barContainer, 0); 
                         setTimeout(() => { 
                             bar.style.width = (fractionalMinute * 100) + '%';
                             let percentageString = (fractionalMinute * 100).toFixed(1);
                             if (parseFloat(percentageString) === Math.floor(parseFloat(percentageString))) {
                                  percentageString = Math.floor(parseFloat(percentageString)).toString();
                             }
                             bar.textContent = `${percentageString}%`;

                             if (fullMinutes > 0) {
                                 explanation.textContent = `(å¯è§†åŒ–ï¼šç›¸å½“äº ${fullMinutes} ä¸ªå®Œæ•´åˆ†é’Ÿ + ä¸‹ä¸€åˆ†é’Ÿçš„ ${percentageString}%)`;
                             } else {
                                 explanation.textContent = `(å¯è§†åŒ–ï¼šç›¸å½“äºä¸‹ä¸€åˆ†é’Ÿçš„ ${percentageString}%)`;
                             }
                         }, 500); 
                     }, delay); 
                     delay += 1200; 
                 } else {
                     barContainer.classList.add('hidden'); 
                     explanation.textContent = ''; 
                     delay += 500; 
                 }
             }


            // å¡«å……å¹¶åŠ¨ç”»æœ€ç»ˆç­”æ¡ˆ
            if(finalAnswerP) {
                finalAnswerP.innerHTML = `æœ€ç»ˆç­”æ¡ˆï¼š${seconds} ç§’ç­‰äº <span class="highlight">${minutesString}</span> åˆ†é’Ÿã€‚`;
                finalAnswerP.classList.remove('hidden');
                animateElement(finalAnswerP, delay);
            }
        }


        // åˆ†é’Ÿ -> ç§’ çš„è½¬æ¢å’Œæ˜¾ç¤ºé€»è¾‘ (ä½¿ç”¨ HTML ç»“æ„å’ŒåŠ¨ç”»)
        function convertMinutesToSecondsAnimated(minutes) {
            const totalSeconds = minutes * 60;
            const fullMinutes = Math.floor(minutes);
            const fractionalMinute = minutes - fullMinutes;
            const secondsFromFull = fullMinutes * 60;
            const secondsFromFraction = parseFloat((fractionalMinute * 60).toFixed(5)); 

            let delay = 0;

            // èµ·å§‹è¯´æ˜
            converterStartText.innerHTML = `å¼€å§‹è®¡ç®— <span class="highlight">${minutes}</span> åˆ†é’Ÿç­‰äºå¤šå°‘ç§’...`;
            delay += 500;

            // è·å–æ­¥éª¤å…ƒç´ 
            const step1P = document.getElementById('minToSec_step1_p');
            const step2P = document.getElementById('minToSec_step2_p');
            const step3P = document.getElementById('minToSec_step3_p');
            const step4P = document.getElementById('minToSec_step4_p');
            const finalAnswerP = document.getElementById('minToSec_final_answer_p');

            // å¡«å……å¹¶åŠ¨ç”»æ­¥éª¤1
            if(step1P) {
                let step1Content = '';
                if (fractionalMinute > 0.00001) { 
                     step1Content = `æˆ‘ä»¬å°† ${minutes} åˆ†é’Ÿæ‹†æˆä¸¤éƒ¨åˆ†ï¼š<br><span class='text-center block text-lg'><span class='text-blue-600 font-bold'>${fullMinutes}</span> ä¸ªå®Œæ•´åˆ†é’Ÿ + <span class='text-purple-600 font-bold'>${fractionalMinute.toFixed(3)}</span> åˆ†é’Ÿ (å°æ•°éƒ¨åˆ†)</span>`;
                } else {
                     step1Content = `æˆ‘ä»¬æœ‰ ${fullMinutes} ä¸ªå®Œæ•´åˆ†é’Ÿã€‚`;
                }
                step1P.innerHTML = `<strong>${fractionalMinute > 0.00001 ? 'ç¬¬1æ­¥ï¼šåˆ†è§£æ—¶é—´' : 'ç¬¬1æ­¥ï¼šæ•´æ•°åˆ†é’Ÿ'}</strong>${step1Content}`;
                step1P.classList.remove('hidden');
                animateElement(step1P, delay);
                delay += 1200; 
            }

            // å¡«å……å¹¶åŠ¨ç”»æ­¥éª¤2 (è½¬æ¢æ•´æ•°åˆ†é’Ÿ)
            if(step2P) {
                 step2P.classList.add('hidden'); 
                 if (fullMinutes > 0) {
                     step2P.innerHTML = `<strong>ç¬¬2æ­¥ï¼šè½¬æ¢å®Œæ•´åˆ†é’Ÿ</strong>æ¯ä¸ªå®Œæ•´åˆ†é’Ÿæœ‰60ç§’ï¼Œæ‰€ä»¥ï¼š<span class="math-formula">$${fullMinutes} \\text{ åˆ†é’Ÿ} \\times 60 \\frac{\\text{ç§’}}{\\text{åˆ†é’Ÿ}} = ${secondsFromFull} \\text{ ç§’}$</span>`;
                     step2P.classList.remove('hidden');
                     // typesetMath(step2P); 
                     animateElement(step2P, delay);
                     delay += 1500;
                 } else if (fractionalMinute <= 0.00001) { 
                      step2P.innerHTML = `<strong>ç¬¬2æ­¥ï¼šè½¬æ¢åˆ†é’Ÿ</strong>0åˆ†é’Ÿè‡ªç„¶å°±æ˜¯...<span class="math-formula">$0 \\text{ åˆ†é’Ÿ} \\times 60 \\frac{\\text{ç§’}}{\\text{åˆ†é’Ÿ}} = 0 \\text{ ç§’}$</span>`;
                      step2P.classList.remove('hidden');
                      // typesetMath(step2P);
                      animateElement(step2P, delay);
                      delay += 1500;
                 }
            }
            

            // å¡«å……å¹¶åŠ¨ç”»æ­¥éª¤3 (è½¬æ¢å°æ•°åˆ†é’Ÿ)
            if(step3P) {
                 step3P.classList.add('hidden'); 
                 if (fractionalMinute > 0.00001) {
                     let fractionString = '';
                     if (Math.abs(fractionalMinute - 0.5) < 0.001) fractionString = "\\frac{1}{2}";
                     else if (Math.abs(fractionalMinute - 0.25) < 0.001) fractionString = "\\frac{1}{4}";
                     else if (Math.abs(fractionalMinute - 0.75) < 0.001) fractionString = "\\frac{3}{4}";
                     else if (Math.abs(fractionalMinute - 1/3) < 0.001) fractionString = "\\frac{1}{3}";
                     else if (Math.abs(fractionalMinute - 2/3) < 0.001) fractionString = "\\frac{2}{3}";
                     else if (Math.abs(fractionalMinute - 0.2) < 0.001) fractionString = "\\frac{1}{5}";
                     else if (Math.abs(fractionalMinute - 0.4) < 0.001) fractionString = "\\frac{2}{5}";
                     else if (Math.abs(fractionalMinute - 0.6) < 0.001) fractionString = "\\frac{3}{5}";
                     else if (Math.abs(fractionalMinute - 0.8) < 0.001) fractionString = "\\frac{4}{5}";
                     
                     let secondsFromFractionString = secondsFromFraction.toFixed(1);
                     if (secondsFromFraction === Math.floor(secondsFromFraction)) {
                         secondsFromFractionString = secondsFromFraction.toString();
                     }

                     const step3Content = `ç°åœ¨å¤„ç†å°æ•°éƒ¨åˆ† ${fractionalMinute.toFixed(3)} åˆ†é’Ÿï¼š
                                          ${fractionString ? `<br>(è¿™å¤§çº¦ç­‰äºåˆ†æ•° ${fractionString})` : ''}
                                          <span class="math-formula">$${fractionalMinute.toFixed(3)} \\text{ åˆ†é’Ÿ} \\times 60 \\frac{\\text{ç§’}}{\\text{åˆ†é’Ÿ}} = ${secondsFromFractionString} \\text{ ç§’}$</span>`;
                     step3P.innerHTML = `<strong>ç¬¬${fullMinutes > 0 ? 3 : 2}æ­¥ï¼šè½¬æ¢å°æ•°åˆ†é’Ÿ</strong>${step3Content}`; 
                     step3P.classList.remove('hidden');
                     // typesetMath(step3P); 
                     animateElement(step3P, delay);
                     delay += 1800; 
                 }
            }

            // å¡«å……å¹¶åŠ¨ç”»æ­¥éª¤4 (åˆå¹¶ç»“æœ)
            if(step4P) {
                let combineFormula = '';
                let finalTotalSecondsString = totalSeconds.toFixed(1); 
                if (totalSeconds === Math.floor(totalSeconds)) {
                    finalTotalSecondsString = totalSeconds.toString();
                }
                
                let secondsFromFractionStringFormatted = secondsFromFraction.toFixed(1);
                 if (secondsFromFraction === Math.floor(secondsFromFraction)){
                     secondsFromFractionStringFormatted = secondsFromFraction.toString();
                 }

                if (fullMinutes > 0 && fractionalMinute > 0.00001) {
                    combineFormula = `${secondsFromFull} \\text{ ç§’} + ${secondsFromFractionStringFormatted} \\text{ ç§’} = ${finalTotalSecondsString} \\text{ ç§’}`;
                } else if (fullMinutes > 0) {
                     combineFormula = `${secondsFromFull} \\text{ ç§’}`;
                     finalTotalSecondsString = secondsFromFull.toString(); 
                } else if (fractionalMinute > 0.00001) {
                     combineFormula = `${secondsFromFractionStringFormatted} \\text{ ç§’}`;
                     finalTotalSecondsString = secondsFromFractionStringFormatted; 
                } else { 
                     combineFormula = `0 \\text{ ç§’}`;
                     finalTotalSecondsString = '0';
                }
                
                let mergeStepNumber = 2; 
                if (fullMinutes > 0 && fractionalMinute > 0.00001) mergeStepNumber = 4;
                else if (fullMinutes > 0 || fractionalMinute > 0.00001) mergeStepNumber = 3;

                step4P.innerHTML = `<strong>ç¬¬${mergeStepNumber}æ­¥ï¼šåˆå¹¶ç»“æœ</strong>${(fullMinutes > 0 && fractionalMinute > 0.00001) ? 'æŠŠä¸¤éƒ¨åˆ†å¾—åˆ°çš„ç§’æ•°åŠ èµ·æ¥ï¼š' : 'æœ€ç»ˆç»“æœå°±æ˜¯ï¼š'}
                     <span class="math-formula">$${combineFormula}$</span>`;
                step4P.classList.remove('hidden');
                // typesetMath(step4P); 
                animateElement(step4P, delay);
                delay += 1500;
            }

            // å¡«å……å¹¶åŠ¨ç”»æœ€ç»ˆç­”æ¡ˆ
            if(finalAnswerP) {
                 let finalTotalSecondsString = totalSeconds.toFixed(1); 
                 if (totalSeconds === Math.floor(totalSeconds)) {
                    finalTotalSecondsString = totalSeconds.toString();
                 }
                finalAnswerP.innerHTML = `æœ€ç»ˆç­”æ¡ˆï¼š${minutes} åˆ†é’Ÿç­‰äº <span class="highlight">${finalTotalSecondsString}</span> ç§’ã€‚`;
                finalAnswerP.classList.remove('hidden');
                animateElement(finalAnswerP, delay);
            }
        }

        // --- åˆå§‹åŒ– ---
        document.addEventListener('DOMContentLoaded', () => {
             setConversionDirection('secToMin'); // åˆå§‹åŒ–è½¬æ¢å™¨çŠ¶æ€
        });

    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</body>
</html>
                const block = document.createElement('div');