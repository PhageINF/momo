<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº¤äº’å¼ç¯®çƒ24ç§’è§„åˆ™è®²è§£ - æ·±åº¦æ€è€ƒç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f9ff; /* æ›´æŸ”å’Œçš„æ·¡è“è‰²èƒŒæ™¯ */
        }
        .content-card {
            background-color: white;
            border-radius: 16px; /* æ›´åœ†æ¶¦çš„å¡ç‰‡ */
            padding: 28px; /* ç¨å¤§å†…è¾¹è· */
            margin-bottom: 24px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.08); /* æŸ”å’Œé˜´å½± */
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInSlideUp 0.6s ease-out forwards;
        }
        .content-card:hover {
            transform: translateY(-6px) scale(1.02);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
        }
        @keyframes fadeInSlideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .question-title {
            font-size: 1.6rem; /* ç¨å¤§æ ‡é¢˜ */
            font-weight: 700;
            color: #0c4a6e; /* æ·±è“æ–‡å­— */
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }
        .question-title svg { /* å›¾æ ‡æ ·å¼ */
            width: 28px;
            height: 28px;
            margin-right: 10px;
            color: #38bdf8; /* äº®è“è‰²å›¾æ ‡ */
        }
        .explanation-text {
            font-size: 1.05rem; /* ç¨å¤§æ­£æ–‡ */
            color: #374151; /* æ·±ç°æ–‡å­— */
            line-height: 1.8;
            margin-bottom: 18px;
        }
        .thinking-process-item {
            background-color: #f0f9ff; /* æ·¡è“èƒŒæ™¯ */
            border-left: 4px solid #38bdf8; /* äº®è“å·¦è¾¹æ¡† */
            padding: 12px 16px;
            margin-bottom: 12px;
            border-radius: 8px;
            font-size: 0.95rem;
            color: #1e3a8a; /* è¾ƒæ·±è“æ–‡å­— */
            opacity: 0;
            transform: translateX(-20px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }
        .thinking-process-item.visible {
            opacity: 1;
            transform: translateX(0);
        }
        .answer-text {
            font-size: 1.2rem; /* ç¨å¤§ç­”æ¡ˆæ–‡å­— */
            font-weight: 700; /* åŠ ç²— */
            color: #065f46; /* æ·±ç»¿è‰² */
            padding: 14px;
            background-color: #ccefe8; /* æ›´æŸ”å’Œçš„æµ…ç»¿è‰² */
            border-radius: 8px;
            margin-top: 16px;
            display: inline-block;
            border: 2px solid #6ee7b7; /* ç»¿è‰²è¾¹æ¡† */
        }
        .interactive-button {
            background-image: linear-gradient(to right, #3b82f6, #60a5fa); /* æ¸å˜è“ */
            color: white;
            font-weight: 600;
            padding: 14px 28px;
            border-radius: 30px; /* èƒ¶å›ŠæŒ‰é’® */
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            outline: none;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        .interactive-button:hover {
            background-image: linear-gradient(to right, #2563eb, #3b82f6);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
        }

        .answer-content {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transform: translateY(-10px);
            transition: max-height 0.7s cubic-bezier(0.4, 0, 0.2, 1), 
                        opacity 0.5s ease-out 0.1s, 
                        transform 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                        margin-top 0.7s cubic-bezier(0.4, 0, 0.2, 1);
            margin-top: 0 !important;
        }
        .answer-content.visible {
            max-height: 1200px; /* ë„‰ë„‰í•œ ìµœëŒ€ ë†’ì´ */
            opacity: 1;
            transform: translateY(0);
            margin-top: 1.2rem !important;
        }
        
        .fraction-bar-container {
            width: 100%;
            height: 40px;
            background-color: #e0e7ff; /* Light indigo */
            border-radius: 8px;
            margin: 20px 0;
            display: flex;
            overflow: hidden;
            border: 1px solid #c7d2fe;
        }
        .fraction-bar-fill {
            height: 100%;
            background-color: #6366f1; /* Indigo */
            width: 0%; /* Initial width for animation */
            transition: width 1s ease-out;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
         .simplification-step {
            margin: 10px 0;
            padding: 8px;
            background-color: #f3f4f6;
            border-radius: 6px;
        }

        .unit-block-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
            padding: 12px;
            background-color: #e0f2fe; /* æµ…é’è‰²èƒŒæ™¯ */
            border-radius: 10px;
        }
        .unit-block {
            width: 38px; /* ç¨å¤§æ–¹å— */
            height: 38px;
            border: 2px solid #a5f3fc; /* é’è‰²è¾¹æ¡† */
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.75rem;
            font-weight: 600;
            color: #0e7490; /* æ·±é’è‰²æ–‡å­— */
            background-color: #f0f9ff; /* ææµ…è“èƒŒæ™¯ */
            opacity: 0;
            transform: scale(0.3) rotate(-20deg);
            transition: opacity 0.5s ease-out, 
                        transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), /* å›å¼¹æ•ˆæœ */
                        background-color 0.6s ease-in-out, 
                        border-color 0.6s ease-in-out,
                        color 0.6s ease-in-out;
        }
        .unit-block.visible {
            opacity: 1;
            transform: scale(1) rotate(0deg);
        }
        .unit-block.filled {
            background-color: #22d3ee; /* äº®é’è‰² */
            border-color: #06b6d4; /* æ·±äº®é’è‰² */
            color: white;
        }
        .unit-block.added {
            background-color: #34d399; /* ç¿¡ç¿ ç»¿ */
            border-color: #10b981; /* æ·±ç¿¡ç¿ ç»¿ */
            color: white;
        }
        .unit-block.target-empty { /* ç”¨äºé—®é¢˜ä¸‰åˆå§‹çš„ç©ºç›®æ ‡å— */
            background-color: #e0e7ff; /* æ·¡ç´«è‰² */
            border-color: #a5b4fc; /* ç¨æ·±æ·¡ç´«è‰² */
            color: #4338ca; /* æ·±ç´«è‰²æ–‡å­— */
        }

        .message-box-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.65); display: flex; justify-content: center; align-items: center; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease; }
        .message-box-overlay.visible { opacity: 1; visibility: visible; }
        .message-box { background-color: white; padding: 35px; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); text-align: center; max-width: 420px; width: 90%; }
        .message-box h3 { font-size: 1.6rem; color: #1e40af; margin-bottom: 18px; }
        .message-box p { font-size: 1.05rem; color: #374151; margin-bottom: 28px; }
        .message-box button { background-color: #2563eb; color: white; padding: 14px 28px; border: none; border-radius: 30px; font-size: 1rem; cursor: pointer; transition: background-color 0.2s ease; }
        .message-box button:hover { background-color: #1d4ed8; }

    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-3xl mx-auto">
        <header class="mb-10 text-center content-card" style="animation-delay: 0s;">
            <h1 class="text-3xl md:text-4xl font-bold text-sky-700">ğŸ€ ç¯®çƒ24ç§’è§„åˆ™ä¸å°æ•°æ¢ç§˜ ğŸ¤”</h1>
            <p class="text-slate-600 mt-3 text-lg">ä¸€æ­¥ä¸€æ­¥ï¼Œè§£å¼€æ•°å­¦çš„å¥¥ç§˜ï¼</p>
        </header>

        <div class="content-card" style="animation-delay: 0.1s;">
             <h2 class="question-title">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z" /></svg>
                ä»€ä¹ˆæ˜¯ç¯®çƒâ€œ24ç§’è¿›æ”»â€è§„åˆ™ï¼Ÿ
            </h2>
            <p class="explanation-text">
                åœ¨ç¯®çƒæ¯”èµ›ä¸­ï¼Œå½“ä¸€æ”¯é˜Ÿä¼è·å¾—çƒæƒåï¼ˆä»æ¥è§¦çƒçš„é‚£ä¸€åˆ»å¼€å§‹ç®—èµ·ï¼‰ï¼Œä»–ä»¬å¿…é¡»åœ¨<strong>24ç§’</strong>å†…å°è¯•æŠ•ç¯®è¿›æ”»ã€‚å¦‚æœè¶…è¿‡24ç§’æ²¡æœ‰æŠ•ç¯®ï¼Œå°±ä¼šè¢«åˆ¤â€œ24ç§’è¿›æ”»è¿ä¾‹â€ï¼Œçƒæƒå°±è¦äº¤ç»™å¯¹æ–¹äº†ã€‚è¿™ä¸ªè§„åˆ™æ˜¯ä¸ºäº†è®©æ¯”èµ›èŠ‚å¥æ›´å¿«ã€æ›´ç²¾å½©ï¼
            </p>
            <p class="explanation-text">
                è¿™ä¸ªè§„åˆ™æ˜¯ä¸¹å°¼ (Danny Biasone) åœ¨1954å¹´æå‡ºçš„ï¼Œä»–å¸Œæœ›é€šè¿‡é™åˆ¶æ¯æ¬¡è¿›æ”»çš„æ—¶é—´æ¥å¢åŠ æ¯”èµ›çš„æŠ•ç¯®æ¬¡æ•°å’Œè§‚èµæ€§ã€‚
            </p>
        </div>

        <div class="content-card" style="animation-delay: 0.2s;">
            <h2 class="question-title">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" /></svg>
                é—®é¢˜ä¸€ï¼š24ç§’æ˜¯å¤šå°‘åˆ†é’Ÿå‘¢ï¼Ÿ (æ€è€ƒè¿‡ç¨‹å…¨è§£æ)
            </h2>
            <p class="explanation-text">
                æˆ‘ä»¬éœ€è¦æŠŠ24ç§’è½¬æ¢æˆä»¥â€œåˆ†â€ä¸ºå•ä½çš„å°æ•°ã€‚
                <br>å…³é”®ä¿¡æ¯ï¼š<strong>1 åˆ†é’Ÿ = 60 ç§’</strong>ã€‚
            </p>
            <button id="q1Button" class="interactive-button">å¼€å§‹é€æ­¥æ€è€ƒä¸è®¡ç®—</button>
            <div id="q1Answer" class="answer-content">
                <div class="thinking-process-item" id="q1_step1">
                    <strong>æ€è€ƒæ­¥éª¤1ï¼šç†è§£é—®é¢˜</strong>
                    <p>æˆ‘ä»¬è¦æŠŠâ€œç§’â€å˜æˆâ€œåˆ†é’Ÿâ€ã€‚å› ä¸º1åˆ†é’Ÿæœ‰60ç§’ï¼Œæ‰€ä»¥24ç§’è‚¯å®šæ˜¯ä¸åˆ°1åˆ†é’Ÿçš„ï¼Œå®ƒåªæ˜¯1åˆ†é’Ÿçš„â€œä¸€éƒ¨åˆ†â€ã€‚</p>
                </div>
                <div class="thinking-process-item" id="q1_step2">
                    <strong>æ€è€ƒæ­¥éª¤2ï¼šå»ºç«‹åˆ†æ•°å…³ç³»</strong>
                    <p>24ç§’æ˜¯60ç§’ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åˆ†æ•°æ¥è¡¨ç¤ºè¿™ä¸ªå…³ç³»ï¼š $\frac{24}{60}$ åˆ†é’Ÿã€‚
                    <br>æƒ³è±¡ä¸€ä¸ªé•¿æ¡ä»£è¡¨1åˆ†é’Ÿ (60ç§’)ï¼Œæˆ‘ä»¬å–äº†å…¶ä¸­çš„24ç§’ï¼š</p>
                    <div class="fraction-bar-container">
                        <div id="q1_fraction_bar" class="fraction-bar-fill"></div>
                    </div>
                    <p id="q1_fraction_text" class="text-sm text-center text-indigo-700 font-semibold"></p>
                </div>
                <div class="thinking-process-item" id="q1_step3">
                    <strong>æ€è€ƒæ­¥éª¤3ï¼šåŒ–ç®€åˆ†æ•°ï¼ˆè®©æ•°å­—æ›´ç®€å•ï¼‰</strong>
                    <p>åˆ†æ•° $\frac{24}{60}$ å¯ä»¥åŒ–ç®€ã€‚æˆ‘ä»¬è¦æ‰¾åˆ°24å’Œ60çš„æœ€å¤§å…¬å› æ•°ã€‚
                    <br>è¯•ç€æ‰¾æ‰¾çœ‹ï¼šå®ƒä»¬éƒ½èƒ½è¢«2æ•´é™¤ï¼Œä¹Ÿèƒ½è¢«3ã€4ã€6ã€12æ•´é™¤ã€‚12æ˜¯æœ€å¤§çš„ï¼</p>
                    <div id="q1_simplification_steps">
                        </div>
                </div>
                <div class="thinking-process-item" id="q1_step4">
                    <strong>æ€è€ƒæ­¥éª¤4ï¼šåˆ†æ•°è½¬å°æ•°ï¼ˆé¢˜ç›®è¦æ±‚ï¼‰</strong>
                    <p>ç°åœ¨æˆ‘ä»¬å¾—åˆ°äº†æœ€ç®€åˆ†æ•° $\frac{2}{5}$ã€‚è¦æŠŠåˆ†æ•°è½¬æ¢æˆå°æ•°ï¼Œæˆ‘ä»¬ç”¨åˆ†å­é™¤ä»¥åˆ†æ¯ï¼š
                    <br>$2 \div 5 = ?$</p>
                    <p id="q1_division_result" class="mt-2 text-lg font-bold text-emerald-700"></p>
                </div>
                <p class="answer-text" id="q1_final_answer" style="opacity:0; transition: opacity 0.5s ease-in 0.5s;">æ‰€ä»¥ï¼Œ24ç§’æ˜¯ 0.4 åˆ†ã€‚</p>
            </div>
        </div>

        <div class="content-card" style="animation-delay: 0.3s;">
            <h2 class="question-title">
                 <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" /></svg>
                é—®é¢˜äºŒï¼š0.4 è¿™ä¸ªå°æ•°çš„è®¡æ•°å•ä½æ˜¯ä»€ä¹ˆï¼Ÿ
            </h2>
            <p class="explanation-text">
                å°æ•°çš„â€œè®¡æ•°å•ä½â€æŒ‡çš„æ˜¯è¿™ä¸ªå°æ•°æœ€å³è¾¹ä¸€ä½ä»£è¡¨çš„æ˜¯ä»€ä¹ˆã€‚
            </p>
            <button id="q2Button" class="interactive-button">æ¢ç´¢è®¡æ•°å•ä½</button>
            <div id="q2Answer" class="answer-content">
                <div class="thinking-process-item" id="q2_step1">
                    <strong>æ€è€ƒæ­¥éª¤1ï¼šè§‚å¯Ÿå°æ•°çš„ä½æ•°</strong>
                    <p>æˆ‘ä»¬çš„å°æ•°æ˜¯ <strong>0.4</strong>ã€‚å°æ•°ç‚¹åé¢æœ‰å‡ ä½æ•°å­—å‘¢ï¼Ÿåªæœ‰ä¸€ä½ï¼Œå°±æ˜¯æ•°å­—â€œ4â€ã€‚</p>
                </div>
                <div class="thinking-process-item" id="q2_step2">
                    <strong>æ€è€ƒæ­¥éª¤2ï¼šç†è§£å°æ•°ä½ä»£è¡¨çš„æ„ä¹‰</strong>
                    <p> - å°æ•°ç‚¹åç¬¬ä¸€ä½ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œååˆ†ä½â€ï¼Œå®ƒçš„è®¡æ•°å•ä½æ˜¯â€œååˆ†ä¹‹ä¸€â€ï¼ˆä¹Ÿå°±æ˜¯0.1ï¼‰ã€‚
                    <br> - å¦‚æœæ˜¯å°æ•°ç‚¹åç¬¬äºŒä½ï¼Œæ¯”å¦‚0.05ï¼Œé‚£å«â€œç™¾åˆ†ä½â€ï¼Œè®¡æ•°å•ä½æ˜¯â€œç™¾åˆ†ä¹‹ä¸€â€ï¼ˆ0.01ï¼‰ã€‚</p>
                </div>
                <div class="thinking-process-item" id="q2_step3">
                    <strong>æ€è€ƒæ­¥éª¤3ï¼šç¡®å®š0.4çš„è®¡æ•°å•ä½</strong>
                    <p>å› ä¸º0.4çš„å°æ•°ç‚¹ååªæœ‰ä¸€ä½ï¼Œåœ¨ååˆ†ä½ä¸Šï¼Œæ‰€ä»¥å®ƒçš„è®¡æ•°å•ä½å°±æ˜¯â€œååˆ†ä¹‹ä¸€â€ã€‚</p>
                    <p class="mt-2">æˆ‘ä»¬å¯ä»¥æŠŠ0.4æƒ³è±¡æˆæŠŠâ€œ1â€åˆ†æˆäº†10å°ä»½ï¼Œæˆ‘ä»¬å–äº†å…¶ä¸­çš„4ä»½ã€‚æ¯ä¸€å°ä»½å°±æ˜¯0.1ã€‚</p>
                    <div class="text-2xl font-bold text-center my-4">
                        0 . <span id="q2_highlight_digit" class="text-blue-600 p-1 rounded bg-blue-100 transition-all duration-500">4</span>
                        <p id="q2_unit_explanation" class="text-sm font-normal text-gray-600 mt-1 opacity-0 transition-opacity duration-500"> (è¿™é‡Œçš„ "4" åœ¨ååˆ†ä½ä¸Š)</p>
                    </div>
                </div>
                <p class="answer-text" id="q2_final_answer" style="opacity:0; transition: opacity 0.5s ease-in 0.5s;">æ‰€ä»¥ï¼Œ0.4 çš„è®¡æ•°å•ä½æ˜¯ <strong>ååˆ†ä¹‹ä¸€</strong> (æˆ–å†™ä½œ <strong>0.1</strong>)ã€‚</p>
            </div>
        </div>

        <div class="content-card" style="animation-delay: 0.4s;">
            <h2 class="question-title">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" /></svg>
                é—®é¢˜ä¸‰ï¼šå†æ·»ä¸Šå¤šå°‘ä¸ªè¿™æ ·çš„è®¡æ•°å•ä½ (0.1) å°±ç­‰äº1ï¼Ÿ
            </h2>
            <p class="explanation-text">
                æˆ‘ä»¬ç°åœ¨æœ‰0.4ï¼Œå®ƒè¡¨ç¤ºæœ‰4ä¸ª0.1ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å‡‘æˆ1ã€‚
                <br>å…³é”®ä¿¡æ¯ï¼š <strong>1 ç­‰äº 10 ä¸ª 0.1</strong> (å› ä¸º $1 = \frac{10}{10}$)ã€‚
            </p>
            <p class="explanation-text"><strong>å¯è§†åŒ–æ€è€ƒï¼š</strong> æƒ³è±¡æˆ‘ä»¬æœ‰ä¸€ä¸ªå¯ä»¥æ”¾10ä¸ªå°æ–¹å—çš„ç›’å­ (ä»£è¡¨æ•´æ•°â€œ1â€)ï¼Œæ¯ä¸ªå°æ–¹å—ä»£è¡¨0.1ã€‚</p>
            <div class="unit-block-container" id="unitBlocks">
                </div>
            <button id="q3Button" class="interactive-button">å¼€å§‹æ·»åŠ æ–¹å—çœ‹çœ‹</button>
            <div id="q3Answer" class="answer-content">
                <div class="thinking-process-item" id="q3_step1">
                    <strong>æ€è€ƒæ­¥éª¤1ï¼šæˆ‘ä»¬ç°åœ¨æœ‰å¤šå°‘ï¼Ÿ</strong>
                    <p>æˆ‘ä»¬æœ‰0.4ï¼Œè¿™ç›¸å½“äºå·²ç»æœ‰ <strong>4ä¸ª</strong> 0.1çš„å°æ–¹å—è¢«å¡«æ»¡äº†ã€‚</p>
                </div>
                <div class="thinking-process-item" id="q3_step2">
                    <strong>æ€è€ƒæ­¥éª¤2ï¼šæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¤šå°‘ï¼Ÿ</strong>
                    <p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å‡‘æˆâ€œ1â€ã€‚å› ä¸º1ç­‰äº10ä¸ª0.1ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¡«æ»¡å…¨éƒ¨ <strong>10ä¸ª</strong> å°æ–¹å—ã€‚</p>
                </div>
                <div class="thinking-process-item" id="q3_step3">
                    <strong>æ€è€ƒæ­¥éª¤3ï¼šè¿˜å·®å¤šå°‘ï¼Ÿ</strong>
                    <p>è¦ä»4ä¸ªæ–¹å—å˜æˆ10ä¸ªæ–¹å—ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ï¼š $10 - 4 = 6$ ä¸ªæ–¹å—ã€‚</p>
                    <p>æˆ–è€…ç”¨å°æ•°è®¡ç®—ï¼šç›®æ ‡æ˜¯1ï¼Œæˆ‘ä»¬æœ‰0.4ï¼Œè¿˜å·® $1 - 0.4 = 0.6$ã€‚
                    <br>å› ä¸ºæ¯ä¸ªæ–¹å—æ˜¯0.1ï¼Œæ‰€ä»¥0.6é‡Œé¢æœ‰ $0.6 \div 0.1 = 6$ ä¸ªæ–¹å—ã€‚</p>
                </div>
                <p class="answer-text" id="q3_final_answer" style="opacity:0; transition: opacity 0.5s ease-in 0.5s;">æ‰€ä»¥ï¼Œå†æ·»ä¸Š <strong>6</strong> ä¸ªè¿™æ ·çš„è®¡æ•°å•ä½ (0.1) å°±ç­‰äº1ã€‚</p>
            </div>
        </div>

        <footer class="text-center mt-12 mb-8">
            <p class="text-slate-500 text-sm">å¸Œæœ›è¿™ä¸ªäº¤äº’å¼è®²è§£èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£æ•°å­¦çš„æ€è€ƒè¿‡ç¨‹ï¼</p>
        </footer>
    </div>

    <div id="messageBoxOverlay" class="message-box-overlay">
        <div class="message-box">
            <h3 id="messageBoxTitle">æç¤º</h3>
            <p id="messageBoxText">è¿™é‡Œæ˜¯æ¶ˆæ¯å†…å®¹ã€‚</p>
            <button id="messageBoxButton">å¥½çš„</button>
        </div>
    </div>

    <script>
        function showMessage(title, text) {
            document.getElementById('messageBoxTitle').textContent = title;
            document.getElementById('messageBoxText').textContent = text;
            document.getElementById('messageBoxOverlay').classList.add('visible');
        }
        document.getElementById('messageBoxButton').addEventListener('click', () => {
            document.getElementById('messageBoxOverlay').classList.remove('visible');
        });

        window.MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
            svg: { fontCache: 'global' },
            startup: { ready: () => { MathJax.startup.defaultReady(); } }
        };

        function typesetMath(element) {
            if (typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
                MathJax.typesetPromise([element]).catch((err) => console.error('MathJax typesetting error:', err));
            }
        }

        function animateThinkingStep(stepElement, delay = 0) {
            setTimeout(() => {
                stepElement.classList.add('visible');
            }, delay);
        }
        
        function animateFinalAnswer(answerElement, delay = 0) {
             setTimeout(() => {
                answerElement.style.opacity = '1';
            }, delay);
        }

        // é—®é¢˜ä¸€é€»è¾‘
        const q1Button = document.getElementById('q1Button');
        const q1Answer = document.getElementById('q1Answer');
        q1Button.dataset.defaultText = 'å¼€å§‹é€æ­¥æ€è€ƒä¸è®¡ç®—';
        q1Button.addEventListener('click', () => {
            const isNowVisible = !q1Answer.classList.contains('visible');
            q1Answer.classList.toggle('visible');
            q1Button.textContent = isNowVisible ? 'éšè—æ€è€ƒè¿‡ç¨‹' : q1Button.dataset.defaultText;

            if (isNowVisible) {
                typesetMath(q1Answer);
                let delay = 0;
                animateThinkingStep(document.getElementById('q1_step1'), delay); delay += 700;
                
                animateThinkingStep(document.getElementById('q1_step2'), delay); 
                setTimeout(() => {
                    const bar = document.getElementById('q1_fraction_bar');
                    const barText = document.getElementById('q1_fraction_text');
                    bar.style.width = (24/60)*100 + '%';
                    bar.textContent = '24/60';
                    barText.textContent = 'è¿›åº¦æ¡æ˜¾ç¤ºäº†60ä»½ä¸­çš„24ä»½';
                }, delay + 200);
                delay += 1500; // ç­‰å¾…æ¡å½¢å›¾åŠ¨ç”»

                animateThinkingStep(document.getElementById('q1_step3'), delay);
                const simplificationDiv = document.getElementById('q1_simplification_steps');
                simplificationDiv.innerHTML = ''; // æ¸…ç©ºæ—§å†…å®¹
                const steps = [
                    {text: "é¦–å…ˆï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°24å’Œ60éƒ½æ˜¯å¶æ•°ï¼Œå¯ä»¥åŒæ—¶é™¤ä»¥2ï¼š", result: "$\\frac{24 \\div 2}{60 \\div 2} = \\frac{12}{30}$"},
                    {text: "ç»§ç»­ï¼Œ12å’Œ30è¿˜æ˜¯å¶æ•°ï¼Œå†é™¤ä»¥2ï¼š", result: "$\\frac{12 \\div 2}{30 \\div 2} = \\frac{6}{15}$"},
                    {text: "ç°åœ¨6å’Œ15éƒ½èƒ½è¢«3æ•´é™¤ï¼š", result: "$\\frac{6 \\div 3}{15 \\div 3} = \\frac{2}{5}$"},
                    {text: "$\\frac{2}{5}$ æ˜¯æœ€ç®€åˆ†æ•°äº†ï¼", result: ""}
                ];
                steps.forEach((step, index) => {
                    setTimeout(() => {
                        const p = document.createElement('p');
                        p.className = 'simplification-step';
                        p.innerHTML = step.text + (step.result ? ` <span class="font-bold">${step.result}</span>` : '');
                        simplificationDiv.appendChild(p);
                        typesetMath(p);
                    }, delay + index * 1200);
                });
                delay += steps.length * 1200;


                animateThinkingStep(document.getElementById('q1_step4'), delay);
                setTimeout(() => {
                    document.getElementById('q1_division_result').innerHTML = "$2 \\div 5 = 0.4$";
                    typesetMath(document.getElementById('q1_division_result'));
                }, delay + 500);
                delay += 1000;
                
                animateFinalAnswer(document.getElementById('q1_final_answer'), delay);

            } else { // å¦‚æœæ˜¯éšè—ï¼Œåˆ™é‡ç½®åŠ¨ç”»ç›¸å…³çš„å…ƒç´ 
                q1Answer.querySelectorAll('.thinking-process-item').forEach(el => el.classList.remove('visible'));
                document.getElementById('q1_fraction_bar').style.width = '0%';
                document.getElementById('q1_fraction_bar').textContent = '';
                document.getElementById('q1_fraction_text').textContent = '';
                document.getElementById('q1_simplification_steps').innerHTML = '';
                document.getElementById('q1_division_result').innerHTML = '';
                document.getElementById('q1_final_answer').style.opacity = '0';
            }
        });

        // é—®é¢˜äºŒé€»è¾‘
        const q2Button = document.getElementById('q2Button');
        const q2Answer = document.getElementById('q2Answer');
        q2Button.dataset.defaultText = 'æ¢ç´¢è®¡æ•°å•ä½';
        q2Button.addEventListener('click', () => {
            const isNowVisible = !q2Answer.classList.contains('visible');
            q2Answer.classList.toggle('visible');
            q2Button.textContent = isNowVisible ? 'éšè—æ¢ç´¢è¿‡ç¨‹' : q2Button.dataset.defaultText;
            if (isNowVisible) {
                typesetMath(q2Answer);
                let delay = 0;
                animateThinkingStep(document.getElementById('q2_step1'), delay); delay += 700;
                animateThinkingStep(document.getElementById('q2_step2'), delay); delay += 700;
                animateThinkingStep(document.getElementById('q2_step3'), delay); 
                setTimeout(() => {
                    document.getElementById('q2_highlight_digit').style.transform = 'scale(1.5)';
                    document.getElementById('q2_highlight_digit').style.fontWeight = 'bold';
                    document.getElementById('q2_unit_explanation').style.opacity = '1';
                }, delay + 300);
                delay += 1000;
                animateFinalAnswer(document.getElementById('q2_final_answer'), delay);
            } else {
                 q2Answer.querySelectorAll('.thinking-process-item').forEach(el => el.classList.remove('visible'));
                 document.getElementById('q2_highlight_digit').style.transform = 'scale(1)';
                 document.getElementById('q2_highlight_digit').style.fontWeight = 'normal';
                 document.getElementById('q2_unit_explanation').style.opacity = '0';
                 document.getElementById('q2_final_answer').style.opacity = '0';
            }
        });

        // é—®é¢˜ä¸‰é€»è¾‘
        const q3Button = document.getElementById('q3Button');
        const q3Answer = document.getElementById('q3Answer');
        const unitBlocksContainer = document.getElementById('unitBlocks');
        const totalUnits = 10;
        const initialFilledUnits = 4;
        q3Button.dataset.defaultText = 'å¼€å§‹æ·»åŠ æ–¹å—çœ‹çœ‹';

        function renderUnitBlocks(isAnswerRevealed = false, animateTransition = false) {
            unitBlocksContainer.innerHTML = ''; 
            for (let i = 0; i < totalUnits; i++) {
                const block = document.createElement('div');
                block.classList.add('unit-block');
                block.textContent = '0.1';

                if (i < initialFilledUnits) {
                    block.classList.add('filled');
                } else if (isAnswerRevealed && i >= initialFilledUnits) {
                    if (animateTransition) { // åªæœ‰åœ¨æ˜ç¡®éœ€è¦åŠ¨ç”»æ—¶æ‰ç«‹å³æ·»åŠ added
                        block.classList.add('added');
                    } else { // å¦åˆ™å…ˆæ˜¯ç›®æ ‡ç©ºå—
                         block.classList.add('target-empty');
                    }
                } else { // åˆå§‹æœªå¡«å……çš„ç›®æ ‡å—
                     block.classList.add('target-empty');
                }
                unitBlocksContainer.appendChild(block);
                void block.offsetWidth; 
                setTimeout(() => { 
                    block.classList.add('visible');
                    // å¦‚æœæ˜¯æ­ç¤ºç­”æ¡ˆå¹¶ä¸”æ˜¯éœ€è¦å¡«å……çš„å—ï¼Œåœ¨ 'visible' åŠ¨ç”»åè§¦å‘é¢œè‰²å˜åŒ–
                    if (isAnswerRevealed && animateTransition && i >= initialFilledUnits) {
                        setTimeout(() => {
                            block.classList.remove('target-empty'); // ç§»é™¤ç©ºå—æ ·å¼
                            block.classList.add('added'); // æ·»åŠ å¡«å……åæ ·å¼
                        }, 500); // å»¶è¿Ÿä¸€ç‚¹ï¼Œè®©å…¥åœºåŠ¨ç”»å…ˆå®Œæˆ
                    }
                }, i * 70 + 50); 
            }
        }
        
        renderUnitBlocks(false); // åˆå§‹æ¸²æŸ“ï¼Œä¸æ­ç¤ºç­”æ¡ˆ

        q3Button.addEventListener('click', () => {
            const isNowVisible = !q3Answer.classList.contains('visible');
            q3Answer.classList.toggle('visible');
            q3Button.textContent = isNowVisible ? 'éšè—æ€è€ƒè¿‡ç¨‹' : q3Button.dataset.defaultText;

            if (isNowVisible) {
                renderUnitBlocks(true, true); // æ­ç¤ºç­”æ¡ˆï¼Œå¹¶åŠ¨ç”»å¡«å……è¿‡ç¨‹
                typesetMath(q3Answer);
                let delay = 0;
                animateThinkingStep(document.getElementById('q3_step1'), delay); delay += 700;
                animateThinkingStep(document.getElementById('q3_step2'), delay); delay += 700;
                animateThinkingStep(document.getElementById('q3_step3'), delay); delay += 700;
                animateFinalAnswer(document.getElementById('q3_final_answer'), delay);
            } else {
                renderUnitBlocks(false); // éšè—æ—¶ï¼Œæ¢å¤åˆå§‹çŠ¶æ€
                q3Answer.querySelectorAll('.thinking-process-item').forEach(el => el.classList.remove('visible'));
                document.getElementById('q3_final_answer').style.opacity = '0';
            }
        });
        
        document.addEventListener('DOMContentLoaded', () => {
            // å¡ç‰‡å…¥åœºåŠ¨ç”»å»¶è¿Ÿå·²é€šè¿‡å†…è”styleè®¾ç½®
        });

    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</body>
</html>
